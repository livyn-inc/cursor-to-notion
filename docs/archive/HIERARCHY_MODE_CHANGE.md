# Hierarchy Mode デフォルト動作の変更

## 変更内容

### 以前の動作
- 子ページがあるページは、親ページ.mdファイルと子ページ用フォルダが**別々に**作成される
- フォルダ化するには`--cleanup-folders`オプションが必要

```
hackathon_new/
├── 01_ペルソナ作成.md      ← 親ページ内容（フォルダの外）
└── 01_ペルソナ作成/         ← 子ページ用フォルダ
    ├── child1.md
    └── child2.md
```

### 新しい動作（デフォルト）
- 子ページがあるページは**自動的にフォルダ化**
- 親ページ内容はフォルダ内の同名.mdファイルに保存
- `--cleanup-folders`オプションは廃止（デフォルト動作に統合）

```
hackathon_new/
└── 01_ペルソナ作成/              ← フォルダのみ
    ├── 01_ペルソナ作成.md        ← 親ページ内容（フォルダ内）
    ├── child1.md
    └── child2.md
```

## 適用タイミング

以下のすべてのコマンドで自動的にフォルダ化が実行されます：

- `nit clone <notion-url>`
- `nit pull <folder>`
- `nit pull <folder> --full`
- `nit pull <folder> --new-only`
- `nit pull <folder> --auto`

## 技術的な変更

1. `cmd_pull_new_only()`: cleanup_foldersパラメータを削除し、常に変換処理を実行
2. `cmd_pull()`: pull完了後に変換処理を追加
3. `cmd_pull_auto()`: 既に変換処理を含む（変更なし）
4. `--cleanup-folders`: 引数定義を削除
5. README.md: ドキュメントを更新

## 互換性

- **後方互換性**: 既存のプロジェクトに影響なし
- **Flat Mode**: 変更なし（Flat Modeには影響しない）
- **既存フォルダ**: 既にフォルダ化されているものは変換不要（冪等性）

## メリット

1. ✅ **直感的**: Notionの階層構造とローカルフォルダ構造が一致
2. ✅ **シンプル**: オプション不要で常に正しい構造
3. ✅ **保守性向上**: フォルダ内で親ページと子ページがまとまる

